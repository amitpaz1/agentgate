# =============================================================================
# AgentGate Docker Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# Required variables are marked with (required)
# =============================================================================

# -----------------------------------------------------------------------------
# Environment
# -----------------------------------------------------------------------------
NODE_ENV=production

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# Port for the API server (internal container port is always 3000)
SERVER_PORT=3000

# Port for the dashboard (internal container port is always 80)
DASHBOARD_PORT=8080

# -----------------------------------------------------------------------------
# Security (required)
# -----------------------------------------------------------------------------
# Admin API key - minimum 16 characters (required)
# Generate with: openssl rand -hex 32
ADMIN_API_KEY=

# JWT secret for session tokens - minimum 32 characters (required for production)
# Server will refuse to start in production without this.
# Generate with: openssl rand -hex 32
JWT_SECRET=

# Allowed CORS origins (comma-separated)
# Use * for development, restrict in production
CORS_ORIGINS=*

# -----------------------------------------------------------------------------
# PostgreSQL Database
# -----------------------------------------------------------------------------
POSTGRES_USER=agentgate
POSTGRES_PASSWORD=agentgate
POSTGRES_DB=agentgate
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_RPM=60

# -----------------------------------------------------------------------------
# Timeouts
# -----------------------------------------------------------------------------
# Default request timeout in seconds (1 hour)
REQUEST_TIMEOUT_SEC=3600

# Webhook delivery timeout in milliseconds
WEBHOOK_TIMEOUT_MS=5000

# Maximum webhook retry attempts
WEBHOOK_MAX_RETRIES=3

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Log format: json (recommended for production), pretty (development)
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# Slack Integration (optional)
# -----------------------------------------------------------------------------
# Get these from your Slack app settings: https://api.slack.com/apps
SLACK_BOT_TOKEN=
SLACK_SIGNING_SECRET=
SLACK_APP_TOKEN=
SLACK_DEFAULT_CHANNEL=

# Slack bot port (only needed if running slack-bot service)
SLACK_BOT_PORT=3001

# -----------------------------------------------------------------------------
# Discord Integration (optional)
# -----------------------------------------------------------------------------
DISCORD_BOT_TOKEN=
DISCORD_DEFAULT_CHANNEL=

# -----------------------------------------------------------------------------
# Email/SMTP Integration (optional)
# -----------------------------------------------------------------------------
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=

# Dashboard URL for "View in Dashboard" links in email notifications
DASHBOARD_URL=

# -----------------------------------------------------------------------------
# Channel Routing (optional)
# -----------------------------------------------------------------------------
# JSON array of routing rules. Example:
# CHANNEL_ROUTES='[{"channel":"slack","target":"#alerts","enabled":true}]'
CHANNEL_ROUTES=[]
